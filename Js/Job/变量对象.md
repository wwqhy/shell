### 变量对象（variable object）
---

执行上下文的生命周期：创建--> 执行 --> 执行完毕后出栈，等待被回收

#### 创建阶段
1. 创建变量对象
2. 建立作用域链
3. 确定this的指向

#### 代码执行阶段
- 变量赋值
- 函数引用
- 其他代码执行

本文的重点是创建变量对象，那这个创建的过程都经历了那些？

变量对象的创建过程，依次经历了几个过程：

1. 建立arguments对象，检查参数，建立相应的属性和属性值
2. 检查当前上下文中的**变量声明**，每找到一个变量声明，就在变量对象中以变量名建立一个属性，属性值为undefined,如果该变量名的属性已经存在，为了防止同名的函数被修改为undefined，则会直接跳过，原属性值不会被修改。
3. 检查当前上下文中的**函数声明**, 也就是使用function关键字声明的函数。在变量对象中以函数名建立一个属性，属性值为指向该函数所在**内存地址的引用**。如果函数名的属性已经存在，那么该属性将会被**新的引用所覆盖。**

```javascript
function foo() { 
  console.log('function foo')
}
var foo = 20;

console.log(foo); // 20
上述代码的执行顺序：
  i. 全局上下文入栈
  ii. 上述代码的执行上下文入栈
      // 创建过程：检查函数声明foo, 穿件对应的属性 --> 检查变量声明，发现已存在， 跳过
      // 执行过程：变量赋值 foo = 20,
  iii. 执行完成，出栈
```